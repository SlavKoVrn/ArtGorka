[http://artgorka.kadastrcard.ru/](http://artgorka.kadastrcard.ru/)

# Тестовое задание: Backend разработчик (Middle, PHP)

необходимо разработать небольшое REST API для хранения и управления информацией о сайтах/проектах компании.

## Контекст

Наша компания работает с множеством проектов на различных платформах (WordPress, Bitrix, Custom). 
Необходимо создать систему, которая будет централизованно хранить информацию о проектах и предоставлять API для взаимодействия.

---

## Функциональные требования

### Управление проектами (Projects)

**Поля:**
- ID (автогенерируемый)
- Название проекта
- URL сайта
- Тип платформы (WordPress, Bitrix, Custom, Other)
- Статус (development, production, maintenance, archived)
- Описание (текстовое поле, опционально)
- Дата создания
- Дата последнего обновления

**API endpoints:**
- `POST /api/projects` — создание проекта
- `GET /api/projects` — список проектов (с фильтрацией)
- `GET /api/projects/{id}` — получение проекта по ID
- `PUT /api/projects/{id}` — обновление проекта
- `DELETE /api/projects/{id}` — удаление проекта

**Фильтрация:** по статусу: `GET /api/projects?status=production`

---

## Технические требования

### Обязательные требования

1. **PHP** — версия 8.0+, только **чистый PHP** (без Laravel/Symfony и т.п.).
2. **База данных** — MySQL или PostgreSQL (на ваш выбор) через **PDO**. Схему таблицы — в отдельный SQL-файл (например, `database/schema.sql`). 
Параметры подключения — через конфиг.
3. **REST API** — корректная реализация RESTful принципов.
4. **Валидация данных** — проверка всех входящих данных: URL валидный, платформа и статус — только из списка допустимых значений.
5. **Обработка ошибок** — централизованная обработка с правильными HTTP кодами (200, 201, 400, 404, 500).
6. **Конфигурация** — параметры подключения к БД в отдельном конфиг-файле (не в коде).
7. **README.md** — инструкция по запуску проекта.

### Опционально (будет плюсом)

- **Composer** — если хотите подключить зависимости (например, роутер).
- **API документация** — краткое описание эндпоинтов в README или Postman коллекция.
- **Проверка доступности сайтов** — endpoint для проверки доступности URL проекта (см. ниже).

---

## На что обращаем внимание

- **Архитектура:** разделение на слои, модульная структура, отделение бизнес-логики от контроллеров.
- **Безопасность:** защита от SQL injection (prepared statements), валидация входящих данных, не хранить credentials в коде.
- **Обработка ошибок:** централизованная обработка, правильные HTTP коды, понятные сообщения в JSON.
- **Качество кода:** читаемый код, осмысленные имена, PSR (если применимо), DRY.
- **База данных:** правильные типы, индексы на часто запрашиваемых полях, нормализация.

---

## Рекомендуемая структура проекта

```
project/
├── src/
│   ├── Controllers/
│   ├── Models/
│   ├── Config/
│   ├── Validators/
│   └── Database/
├── public/
│   └── index.php
├── config/
│   └── database.php
├── database/
│   └── schema.sql
├── composer.json   # опционально
└── README.md
```

---

## Что сдать

1. **GitHub репозиторий** с исходным кодом (публичный или приватный с доступом).
2. **Один из вариантов (обязательно):**
   - **Вариант A (предпочтительно):** развернуть проект у себя (VPS/хостинг) и прислать URL API, примеры запросов (curl или Postman), 
при необходимости — тестовые данные для доступа.
   - **Вариант B:** прислать инструкцию, как нам развернуть проект у себя **без Docker** (требования, настройка БД, запуск).
3. **README.md** с инструкцией: требования (PHP, расширения), установка, настройка БД и применение `schema.sql`, запуск.
4. **SQL файл** для создания таблиц (например, `database/schema.sql`).
5. **Конфиг-пример** (если требуется), без секретов.

---

## Критерии оценки

**Минимум для зачёта:** API доступен (по URL или по инструкции без Docker), все CRUD endpoints для Projects, фильтрация по `status`, 
валидация и корректные HTTP статусы/ошибки в JSON, данные в MySQL/PostgreSQL через PDO (prepared statements), README с шагами запуска и инициализации БД.

**Плюсом:** Composer, документация по API, endpoint проверки доступности URL.

---

## Дополнительное задание (опционально)

**Проверка доступности сайтов:** endpoint `POST /api/projects/{id}/check` — запустить проверку доступности. Ответ: HTTP статус код, время ответа (мс), 
статус (доступен/недоступен), время проверки. Результат можно сохранять в БД или возвращать напрямую.
